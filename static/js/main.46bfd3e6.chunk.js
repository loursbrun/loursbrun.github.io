(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(t,e,a){},107:function(t,e,a){},108:function(t,e,a){"use strict";a.r(e);var i=a(0),s=a.n(i),h=a(29),r=a.n(h),o=(a(98),a(75)),n=a(76),l=a(13),c=a(80),m=a(81),d=a(63),u=a(28),g=["user-top-read","user-read-currently-playing","user-read-playback-state","user-modify-playback-state"],w=window.location.hash.substring(1).split("&").reduce(function(t,e){if(e){var a=e.split("=");t[a[0]]=decodeURIComponent(a[1])}return t},{});window.location.hash="";var y=w,b=(a(99),a(100),a(67),a(79)),p=a(56),P=a(44),f=function(t){var e={backgroundColor:t.bgColor};return s.a.createElement("div",{className:"SDButton"},s.a.createElement("div",{className:"SDButton-border-wrap"},s.a.createElement("div",{className:"SDButton-conainer"},s.a.createElement("div",{className:"SDButton-content",style:e},t.imageName&&s.a.createElement(b.a,{className:"imageContainer",src:t.imageName,size:"small"}),s.a.createElement("div",{className:"reflect-top-left"}),s.a.createElement("div",{className:"reflect-top"}),s.a.createElement("div",{className:"reflect-top-right"}),t.playlistName&&s.a.createElement(p.a,{className:"labelContainer"},t.playlistName),s.a.createElement("div",{className:"reflect-bottom-left"}),s.a.createElement("div",{className:"reflect-bottom"}),s.a.createElement("div",{className:"reflect-bottom-right"}),t.iconName&&s.a.createElement("div",{className:"iconContainerSmall"},s.a.createElement(P.a,{className:"iconCustomSmall",name:t.iconName,size:"big"})),t.iconName&&s.a.createElement("div",{className:"iconContainer"},s.a.createElement(P.a,{className:"iconCustom",name:t.iconName,size:"big"}))))))},k=(a(107),a(119));function v(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var a,i=Object(d.a)(t);if(e){var s=Object(d.a)(this).constructor;a=Reflect.construct(i,arguments,s)}else a=i.apply(this,arguments);return Object(m.a)(this,a)}}var E=function(t){Object(c.a)(a,t);var e=v(a);function a(){var t;return Object(o.a)(this,a),(t=e.call(this)).state={currentPage:0,token:null,item:{album:{images:[{url:""}]},name:"",artists:[{name:""}],duration_ms:0},items:[],is_playing:"Paused",progress_ms:0,no_data:!1,with:0,height:0,isPortrait:!0},t.getCurrentlyPlaying=t.getCurrentlyPlaying.bind(Object(l.a)(t)),t.postPlaybackToPauseTrack=t.postPlaybackToPauseTrack.bind(Object(l.a)(t)),t.postPlaybackToPlayTrack=t.postPlaybackToPlayTrack.bind(Object(l.a)(t)),t.postPlaybackToNextTrack=t.postPlaybackToNextTrack.bind(Object(l.a)(t)),t.postPlaybackToPreviousTrack=t.postPlaybackToPreviousTrack.bind(Object(l.a)(t)),t.postPlaybackToPlaylistTrack=t.postPlaybackToPlaylistTrack.bind(Object(l.a)(t)),t.postPlaybackToPlayPlaylistIDTrack=t.postPlaybackToPlayPlaylistIDTrack.bind(Object(l.a)(t)),t.tick=t.tick.bind(Object(l.a)(t)),t.updateWindowDimensions=t.updateWindowDimensions.bind(Object(l.a)(t)),t.increasePage=t.increasePage.bind(Object(l.a)(t)),t.decreasePage=t.decreasePage.bind(Object(l.a)(t)),t}return Object(n.a)(a,[{key:"componentDidMount",value:function(){var t=this;this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions);var e=y.access_token;e&&(this.setState({token:e}),this.getCurrentlyPlaying(e)),this.interval=setInterval(function(){return t.tick()},5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval),window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"tick",value:function(){this.state.token&&this.getCurrentlyPlaying(this.state.token)}},{key:"updateWindowDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight,isPortrait:window.innerWidth<window.innerHeight})}},{key:"getCurrentlyPlaying",value:function(t){var e=this;u.ajax({url:"https://api.spotify.com/v1/me/player",type:"GET",beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+t)},success:function(t){console.log("OK !!!"),t?e.setState({item:t.item,is_playing:t.is_playing,progress_ms:t.progress_ms,no_data:!1}):e.setState({no_data:!0})}}),this.postPlaybackToPlaylistTrack(this.state.token)}},{key:"postPlaybackToPauseTrack",value:function(t){u.ajax({url:"https://api.spotify.com/v1/me/player/pause",type:"PUT",headers:{Authorization:"Bearer "+this.state.token}})}},{key:"postPlaybackToPlayTrack",value:function(t){u.ajax({url:"https://api.spotify.com/v1/me/player/play",type:"PUT",headers:{Authorization:"Bearer "+this.state.token}})}},{key:"postPlaybackToNextTrack",value:function(t){u.ajax({url:"https://api.spotify.com/v1/me/player/next",type:"POST",headers:{Authorization:"Bearer "+this.state.token}})}},{key:"postPlaybackToPreviousTrack",value:function(t){u.ajax({url:"https://api.spotify.com/v1/me/player/previous",type:"POST",headers:{Authorization:"Bearer "+this.state.token}})}},{key:"postPlaybackToPlaylistTrack",value:function(t){var e=this;u.ajax({url:"https://api.spotify.com/v1/me/playlists?limit=50",type:"GET",headers:{Authorization:"Bearer "+this.state.token},success:function(t){console.log("Playlist:"+JSON.stringify(t));var a=[];for(var i in t.items){var s=t.items[i];a.push({id:s.id,name:s.name,image:s.images[0].url})}e.setState({items:a})}})}},{key:"increasePage",value:function(t){this.state.currentPage+1<=this.state.items.length/12&&this.setState({currentPage:this.state.currentPage+1})}},{key:"decreasePage",value:function(t){this.state.currentPage-1>=0&&this.setState({currentPage:this.state.currentPage-1})}},{key:"postPlaybackToPlayPlaylistIDTrack",value:function(t,e){console.log("ID is :"+e);var a={context_uri:"spotify:playlist:"+e,offset:{position:5},position_ms:0};u.ajax({url:"https://api.spotify.com/v1/me/player/play",type:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.state.token},data:JSON.stringify(a),success:function(t){console.log("We think it worked",t)},error:function(t,e,a){console.log(t.status+": "+t.responseText)}})}},{key:"render",value:function(){var t=this;return s.a.createElement("div",{className:"App"},this.state.token&&!this.state.no_data&&s.a.createElement("div",null,s.a.createElement("div",{className:"bloc0",style:this.state.isPortrait?{width:this.state.width,height:this.state.height-this.state.width/4*5,right:0,top:0}:{width:this.state.width,height:this.state.height-this.state.width/6*4,right:0,top:0}},"bloc0"),s.a.createElement("div",{className:"bloc1",style:this.state.isPortrait?{width:this.state.width/4,height:this.state.width/4,left:0,bottom:this.state.width}:{width:this.state.width/6,height:this.state.width/6,left:0,bottom:this.state.width/6*3}},s.a.createElement(b.a,{src:this.state.item.album.images[0].url,style:{width:"90%",marginLeft:"5%",marginTop:"0"}})),s.a.createElement("div",{className:"bloc2",style:this.state.isPortrait?{width:this.state.width/4,height:this.state.width/4,left:this.state.width/4,bottom:this.state.width}:{width:this.state.width/6,height:this.state.width/6,left:this.state.width/6,bottom:this.state.width/6*3}},s.a.createElement("div",{style:{color:"#eee",height:"90%",marginLeft:"5%",marginRight:"5%",display:"flex",alignItems:"center"}},s.a.createElement("p",{style:{color:"#eee",width:"100%"}},s.a.createElement("a",{style:{fontWeight:"900",color:"#eee"}},this.state.item.name),s.a.createElement("br",null),s.a.createElement("a",{style:{fontWeight:"100",color:"#C0C0C0"}},this.state.item.artists[0].name))),s.a.createElement("div",{style:{position:"absolute",bottom:"10%",left:"5%",width:"90%",height:"5%"}},s.a.createElement("div",{className:"progress"},s.a.createElement("div",{className:"progress__bar",style:{width:100*this.state.progress_ms/this.state.item.duration_ms+"%"}})))),s.a.createElement("div",{className:"bloc3",style:this.state.isPortrait?{width:this.state.width/4,height:this.state.width/4,left:this.state.width/2,bottom:this.state.width}:{width:this.state.width/6,height:this.state.width/6,right:this.state.width/6,bottom:this.state.width/6*3}},s.a.createElement(k.a,{onClick:function(e){return t.state.is_playing?t.postPlaybackToPauseTrack(e):t.postPlaybackToPlayTrack(e)},style:{width:0,height:0,color:"white",backgroundColor:"transparent"}},s.a.createElement(f,{bgColor:"#0043ff",iconName:this.state.is_playing?"pause":"play"}))),s.a.createElement("div",{className:"bloc4",style:this.state.isPortrait?{width:this.state.width/4,height:this.state.width/4,right:0,bottom:this.state.width}:{width:this.state.width/6,height:this.state.width/6,right:0,bottom:this.state.width/6*3}},s.a.createElement(k.a,{onClick:function(e){return t.postPlaybackToNextTrack(e)},style:{width:0,height:0,color:"white",backgroundColor:"transparent"}},s.a.createElement(f,{bgColor:"#0043ff",iconName:"forward"}))),this.state.items[0+12*this.state.currentPage]&&s.a.createElement("div",{className:"bloc5",style:this.state.isPortrait?{width:this.state.width/4,height:this.state.width/4,left:0,bottom:this.state.width/4*3}:{width:this.state.width/6,height:this.state.width/6,left:0,bottom:this.state.width/6*2}},s.a.createElement(k.a,{onClick:function(e,a){return t.postPlaybackToPlayPlaylistIDTrack(e,t.state.items[0+12*t.state.currentPage].id)},style:{width:0,height:0,color:"white",backgroundColor:"transparent"}},s.a.createElement(f,{bgColor:"#84a39e",playlistName:this.state.items[0+12*this.state.currentPage].name,imageName:this.state.items[0+12*this.state.currentPage].image}))),this.state.items[1+12*this.state.currentPage]&&s.a.createElement("div",{className:"bloc6",style:this.state.isPortrait?{width:this.state.width/4,height:this.state.width/4,left:this.state.width/4,bottom:this.state.width/4*3}:{width:this.state.width/6,height:this.state.width/6,left:this.state.width/6,bottom:this.state.width/6*2}},s.a.createElement(k.a,{onClick:function(e,a){return t.postPlaybackToPlayPlaylistIDTrack(e,t.state.items[1+12*t.state.currentPage].id)},style:{width:0,height:0,color:"white",backgroundColor:"transparent"}},s.a.createElement(f,{bgColor:"#597775",playlistName:this.state.items[1+12*this.state.currentPage].name,imageName:this.state.items[1+12*this.state.currentPage].image}))),this.state.items[2+12*this.state.currentPage]&&s.a.createElement("div",{className:"bloc7",style:this.state.isPortrait?{width:this.state.width/4,height:this.state.width/4,left:this.state.width/4*2,bottom:this.state.width/4*3}:{width:this.state.width/6,height:this.state.width/6,left:this.state.width/6*2,bottom:this.state.width/6*2}},s.a.createElement(k.a,{onClick:function(e,a){return t.postPlaybackToPlayPlaylistIDTrack(e,t.state.items[2+12*t.state.currentPage].id)},style:{width:0,height:0,color:"white",backgroundColor:"transparent"}},s.a.createElement(f,{bgColor:"#b15a49",playlistName:this.state.items[2+12*this.state.currentPage].name,imageName:this.state.items[2+12*this.state.currentPage].image}))),this.state.items[3+12*this.state.currentPage]&&s.a.createElement("div",{className:"bloc8",style:this.state.isPortrait?{width:this.state.width/4,height:this.state.width/4,left:this.state.width/4*3,bottom:this.state.width/4*3}:{width:this.state.width/6,height:this.state.width/6,left:this.state.width/6*3,bottom:this.state.width/6*2}},s.a.createElement(k.a,{onClick:function(e,a){return t.postPlaybackToPlayPlaylistIDTrack(e,t.state.items[3+12*t.state.currentPage].id)},style:{width:0,height:0,color:"white",backgroundColor:"transparent"}},s.a.createElement(f,{bgColor:"#e19b81",playlistName:this.state.items[3+12*this.state.currentPage].name,imageName:this.state.items[3+12*this.state.currentPage].image}))),this.state.items[4+12*this.state.currentPage]&&s.a.createElement("div",{className:"bloc9",style:this.state.isPortrait?{width:this.state.width/4,height:this.state.width/4,left:0,bottom:this.state.width/4*2}:{width:this.state.width/6,height:this.state.width/6,left:this.state.width/6*4,bottom:this.state.width/6*2}},s.a.createElement(k.a,{onClick:function(e,a){return t.postPlaybackToPlayPlaylistIDTrack(e,t.state.items[4+12*t.state.currentPage].id)},style:{width:0,height:0,color:"white",backgroundColor:"transparent"}},s.a.createElement(f,{bgColor:"#e0e1db",playlistName:this.state.items[4+12*this.state.currentPage].name,imageName:this.state.items[4+12*this.state.currentPage].image}))),this.state.items[5+12*this.state.currentPage]&&s.a.createElement("div",{className:"bloc10",style:this.state.isPortrait?{width:this.state.width/4,height:this.state.width/4,left:this.state.width/4,bottom:this.state.width/4*2}:{width:this.state.width/6,height:this.state.width/6,left:this.state.width/6*5,bottom:this.state.width/6*2}},s.a.createElement(k.a,{onClick:function(e,a){return t.postPlaybackToPlayPlaylistIDTrack(e,t.state.items[5+12*t.state.currentPage].id)},style:{width:0,height:0,color:"white",backgroundColor:"transparent"}},s.a.createElement(f,{bgColor:"#a3a3ae",playlistName:this.state.items[5+12*this.state.currentPage].name,imageName:this.state.items[5+12*this.state.currentPage].image}))),this.state.items[6+12*this.state.currentPage]&&s.a.createElement("div",{className:"bloc11",style:this.state.isPortrait?{width:this.state.width/4,height:this.state.width/4,left:this.state.width/4*2,bottom:this.state.width/4*2}:{width:this.state.width/6,height:this.state.width/6,left:0,bottom:this.state.width/6}},s.a.createElement(k.a,{onClick:function(e,a){return t.postPlaybackToPlayPlaylistIDTrack(e,t.state.items[6+12*t.state.currentPage].id)},style:{width:0,height:0,color:"white",backgroundColor:"transparent"}},s.a.createElement(f,{bgColor:"#f0b18f",playlistName:this.state.items[6+12*this.state.currentPage].name,imageName:this.state.items[6+12*this.state.currentPage].image}))),this.state.items[7+12*this.state.currentPage]&&s.a.createElement("div",{className:"bloc12",style:this.state.isPortrait?{width:this.state.width/4,height:this.state.width/4,left:this.state.width/4*3,bottom:this.state.width/4*2}:{width:this.state.width/6,height:this.state.width/6,left:this.state.width/6,bottom:this.state.width/6}},s.a.createElement(k.a,{onClick:function(e,a){return t.postPlaybackToPlayPlaylistIDTrack(e,t.state.items[7+12*t.state.currentPage].id)},style:{width:0,height:0,color:"white",backgroundColor:"transparent"}},s.a.createElement(f,{bgColor:"#fdb574",playlistName:this.state.items[7+12*this.state.currentPage].name,imageName:this.state.items[7+12*this.state.currentPage].image}))),this.state.items[8+12*this.state.currentPage]&&s.a.createElement("div",{className:"bloc13",style:this.state.isPortrait?{width:this.state.width/4,height:this.state.width/4,left:0,bottom:this.state.width/4}:{width:this.state.width/6,height:this.state.width/6,left:this.state.width/6*2,bottom:this.state.width/6}},s.a.createElement(k.a,{onClick:function(e,a){return t.postPlaybackToPlayPlaylistIDTrack(e,t.state.items[8+12*t.state.currentPage].id)},style:{width:0,height:0,color:"white",backgroundColor:"transparent"}},s.a.createElement(f,{bgColor:"#ac816b",playlistName:this.state.items[8+12*this.state.currentPage].name,imageName:this.state.items[8+12*this.state.currentPage].image}))),this.state.items[9+12*this.state.currentPage]&&s.a.createElement("div",{className:"bloc14",style:this.state.isPortrait?{width:this.state.width/4,height:this.state.width/4,left:this.state.width/4,bottom:this.state.width/4}:{width:this.state.width/6,height:this.state.width/6,left:this.state.width/6*3,bottom:this.state.width/6}},s.a.createElement(k.a,{onClick:function(e,a){return t.postPlaybackToPlayPlaylistIDTrack(e,t.state.items[9+12*t.state.currentPage].id)},style:{width:0,height:0,color:"white",backgroundColor:"transparent"}},s.a.createElement(f,{bgColor:"#f1f0df",playlistName:this.state.items[9+12*this.state.currentPage].name,imageName:this.state.items[9+12*this.state.currentPage].image}))),this.state.items[10+12*this.state.currentPage]&&s.a.createElement("div",{className:"bloc15",style:this.state.isPortrait?{width:this.state.width/4,height:this.state.width/4,left:this.state.width/4*2,bottom:this.state.width/4}:{width:this.state.width/6,height:this.state.width/6,left:this.state.width/6*4,bottom:this.state.width/6}},s.a.createElement(k.a,{onClick:function(e,a){return t.postPlaybackToPlayPlaylistIDTrack(e,t.state.items[10+12*t.state.currentPage].id)},style:{width:0,height:0,color:"white",backgroundColor:"transparent"}},s.a.createElement(f,{bgColor:"#e8e5c8",playlistName:this.state.items[10+12*this.state.currentPage].name,imageName:this.state.items[10+12*this.state.currentPage].image}))),this.state.items[11+12*this.state.currentPage]&&s.a.createElement("div",{className:"bloc16",style:this.state.isPortrait?{width:this.state.width/4,height:this.state.width/4,left:this.state.width/4*3,bottom:this.state.width/4}:{width:this.state.width/6,height:this.state.width/6,left:this.state.width/6*5,bottom:this.state.width/6}},s.a.createElement(k.a,{onClick:function(e,a){return t.postPlaybackToPlayPlaylistIDTrack(e,t.state.items[11+12*t.state.currentPage].id)},style:{width:0,height:0,color:"white",backgroundColor:"transparent"}},s.a.createElement(f,{bgColor:"#d9d5ad",playlistName:this.state.items[11+12*this.state.currentPage].name,imageName:this.state.items[11+12*this.state.currentPage].image}))),s.a.createElement("div",{className:"bloc17",style:this.state.isPortrait?{width:this.state.width/4,height:this.state.width/4,left:0,bottom:0}:{width:this.state.width/6,height:this.state.width/6,left:0,bottom:0}},s.a.createElement(k.a,{onClick:function(e){return t.decreasePage(e)},style:{width:0,height:0,color:"white",backgroundColor:"transparent"}},s.a.createElement(f,{bgColor:"#0043ff",iconName:"angle left"}))),s.a.createElement("div",{className:"bloc18",style:this.state.isPortrait?{width:this.state.width/4*2,height:this.state.width/4,left:this.state.width/4,bottom:0}:{width:this.state.width/6*4,height:this.state.width/6,left:this.state.width/6,bottom:0}},s.a.createElement("div",{style:{position:"absolute",bottom:"40%",width:"100%"}},s.a.createElement(P.a,{name:0==this.state.currentPage?"circle ":"circle outline",size:"small"}),s.a.createElement(P.a,{name:1==this.state.currentPage?"circle ":"circle outline",size:"small"}),s.a.createElement(P.a,{name:2==this.state.currentPage?"circle ":"circle outline",size:"small"}),s.a.createElement(P.a,{name:3==this.state.currentPage?"circle ":"circle outline",size:"small"}))),s.a.createElement("div",{className:"bloc19",style:this.state.isPortrait?{width:this.state.width/4,height:this.state.width/4,right:0,bottom:0}:{width:this.state.width/6,height:this.state.width/6,right:0,bottom:0}},s.a.createElement(k.a,{onClick:function(e){return t.increasePage(e)},style:{width:0,height:0,color:"white",backgroundColor:"transparent"}},s.a.createElement(f,{bgColor:"#0043ff",iconName:"angle right"})))),s.a.createElement("header",{className:"App-header"},!this.state.token&&s.a.createElement("a",{className:"btn btn--loginApp-link",href:"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("db01998348904e2b9490062f416cee51","&redirect_uri=").concat("https://loursbrun.github.io","&scope=").concat(g.join("%20"),"&response_type=token&show_dialog=true")},"Login to Spotify"),this.state.no_data&&s.a.createElement("p",null,"You need to be playing a song on Spotify, for something to appear here."),this.state.token&&!this.state.no_data&&s.a.createElement("div",null)))}}]),a}(i.Component);Boolean("https://loursbrun.github.io/"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},93:function(t,e,a){t.exports=a(108)},98:function(t,e,a){},99:function(t,e,a){}},[[93,1,2]]]);
//# sourceMappingURL=main.46bfd3e6.chunk.js.map